include ../QF103-periph/hwdef.dat

# use DNA
define HAL_CAN_DEFAULT_NODE_ID 0

define CAN_APP_NODE_NAME "org.ardupilot.QF10GPS"

define HAL_BOARD_AP_PERIPH_QF10GPS

undef SERIAL_ORDER

SERIAL_ORDER EMPTY EMPTY EMPTY USART2

# USART1 unused
undef PA9  USART1_TX USART1 SPEED_HIGH NODMA
undef PA10 USART1_RX USART1 SPEED_HIGH NODMA

# USART2 connected to GPS
PA2 USART2_TX USART2 SPEED_HIGH NODMA
PA3 USART2_RX USART2 SPEED_HIGH NODMA

# and support all external compass types
# define HAL_PROBE_EXTERNAL_I2C_COMPASSES

# increase TX size for RTCM
undef HAL_UART_MIN_TX_SIZE
define HAL_UART_MIN_TX_SIZE 256

undef PB0 MAG_CS CS

# GPS+MAG
define HAL_PERIPH_ENABLE_GPS
define HAL_PERIPH_ENABLE_MAG
define HAL_PERIPH_ENABLE_BUZZER_WITHOUT_NOTIFY
# define AP_PERIPH_HAVE_LED_WITHOUT_NOTIFY

COMPASS LIS3MDL I2C:0:0x1E false ROTATION_NONE

--------------- ALARM -----------------
# PWM output for buzzer
PB0 TIM3_CH3 TIM3 GPIO(77) LOW ALARM

# --------LED-----------

undef PA4 LED OUTPUT LOW

PB3 LED OUTPUT LOW
